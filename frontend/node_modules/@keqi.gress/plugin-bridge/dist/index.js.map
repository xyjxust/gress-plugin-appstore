{"version":3,"file":"index.js","sources":["../src/types/plugin-system.ts","../src/core/plugin-bridge.ts","../src/core/plugin-context.ts","../src/core/event-emitter.ts","../src/composables/useIcons.ts","../src/composables/useHostBridge.ts"],"sourcesContent":["/**\n * Gress 插件系统核心类型定义\n * \n * 设计原则：\n * 1. 类型安全：所有接口都有明确的类型定义\n * 2. 可扩展：使用泛型和接口组合支持扩展\n * 3. 向后兼容：保持 API 稳定性\n */\n\nimport type { Component } from 'vue'\nimport type { Router, RouteRecordRaw } from 'vue-router'\nimport type { Pinia } from 'pinia'\n\n// ============================================================================\n// 基础类型\n// ============================================================================\n\n/**\n * 插件 ID 类型\n */\nexport type PluginId = string\n\n/**\n * 插件版本类型（遵循 SemVer）\n */\nexport type PluginVersion = string\n\n/**\n * 插件状态\n */\nexport enum PluginStatus {\n  /** 未安装 */\n  UNINSTALLED = 'uninstalled',\n  /** 安装中 */\n  INSTALLING = 'installing',\n  /** 已安装但未激活 */\n  INSTALLED = 'installed',\n  /** 激活中 */\n  ACTIVATING = 'activating',\n  /** 已激活（运行中） */\n  ACTIVE = 'active',\n  /** 停用中 */\n  DEACTIVATING = 'deactivating',\n  /** 已停用 */\n  DEACTIVATED = 'deactivated',\n  /** 卸载中 */\n  UNINSTALLING = 'uninstalling',\n  /** 错误状态 */\n  ERROR = 'error'\n}\n\n/**\n * 插件加载策略\n */\nexport enum LoadStrategy {\n  /** 立即加载 */\n  EAGER = 'eager',\n  /** 懒加载（首次使用时） */\n  LAZY = 'lazy',\n  /** 预加载（空闲时） */\n  PREFETCH = 'prefetch',\n  /** 按需加载 */\n  ON_DEMAND = 'on-demand'\n}\n\n// ============================================================================\n// 插件清单 (Manifest)\n// ============================================================================\n\n/**\n * 插件清单 - 描述插件的元数据和能力\n */\nexport interface PluginManifest<TConfig = any> {\n  /** 插件唯一标识 */\n  id: PluginId\n  \n  /** 插件名称 */\n  name: string\n  \n  /** 插件版本 */\n  version: PluginVersion\n  \n  /** 插件描述 */\n  description?: string\n  \n  /** 作者信息 */\n  author?: string | {\n    name: string\n    email?: string\n    url?: string\n  }\n  \n  /** 主页 URL */\n  homepage?: string\n  \n  /** 仓库 URL */\n  repository?: string\n  \n  /** 许可证 */\n  license?: string\n  \n  /** 关键词 */\n  keywords?: string[]\n  \n  /** 插件图标 */\n  icon?: string\n  \n  /** 依赖 */\n  dependencies?: {\n    /** 主应用版本要求 */\n    host?: PluginVersion\n    /** 其他插件依赖 */\n    plugins?: Record<PluginId, PluginVersion>\n  }\n  \n  /** 权限声明 */\n  permissions?: PluginPermission[]\n  \n  /** 加载策略 */\n  loadStrategy?: LoadStrategy\n  \n  /**\n   * 组件注册表（名称 -> 组件或懒加载工厂）\n   * 用于通过字符串名称（来自 plugin-ui.yml 等配置）查找组件实例\n   */\n  components?: Record<string, Component | (() => Promise<Component>)>\n  \n  /**\n   * 布局注册表（布局名称 -> 布局组件）\n   * 用于注册插件的自定义布局，支持 standalone 路由类型\n   * \n   * @example\n   * ```typescript\n   * layouts: {\n   *   portal: PortalLayout,\n   *   admin: AdminLayout\n   * }\n   * ```\n   */\n  layouts?: Record<string, Component>\n  \n  /**\n   * 主题注册表（主题名称 -> 主题配置）\n   * 用于注册插件的自定义主题，支持亮色/暗色主题\n   * \n   * @example\n   * ```typescript\n   * themes: {\n   *   light: {\n   *     name: '亮色主题',\n   *     type: 'light',\n   *     primaryColor: '#1890ff',\n   *     backgroundColor: '#ffffff'\n   *   },\n   *   dark: {\n   *     name: '暗色主题',\n   *     type: 'dark',\n   *     primaryColor: '#409eff',\n   *     backgroundColor: '#1a1a1a'\n   *   }\n   * }\n   * ```\n   */\n  themes?: Record<string, ThemeConfig & { \n    name?: string\n    type?: 'light' | 'dark' \n  }>\n  \n  /** 扩展点 */\n  extensions?: PluginExtensions\n  \n  /** 生命周期钩子 */\n  lifecycle?: PluginLifecycle\n  \n  /** 配置 Schema */\n  config?: {\n    schema?: any  // JSON Schema\n    default?: TConfig\n  }\n  \n  /** 额外的元数据 */\n  extra?: Record<string, any>\n}\n\n// ============================================================================\n// 扩展点 (Extension Points)\n// ============================================================================\n\n/**\n * 插件扩展点集合\n */\nexport interface PluginExtensions {\n  /** 路由扩展 */\n  routes?: RouteExtension[]\n  \n  /** 组件扩展 */\n  components?: ComponentExtension[]\n  \n  /** 菜单扩展 */\n  menus?: MenuExtension[]\n  \n  /** 工具栏扩展 */\n  toolbars?: ToolbarExtension[]\n  \n  /** 面板扩展 */\n  panels?: PanelExtension[]\n  \n  /** 中间件扩展 */\n  middlewares?: MiddlewareExtension[]\n  \n  /** 命令扩展 */\n  commands?: CommandExtension[]\n  \n  /** 快捷键扩展 */\n  keybindings?: KeybindingExtension[]\n  \n  /** 主题扩展 */\n  themes?: ThemeExtension[]\n  \n  /** 数据源扩展 */\n  dataSources?: DataSourceExtension[]\n}\n\n/**\n * 路由扩展\n */\nexport interface RouteExtension {\n  /** 路由路径 */\n  path: string\n  \n  /** 路由名称 */\n  name?: string\n  \n  /** 路由组件 */\n  component: Component\n  \n  /** 路由元信息 */\n  meta?: Record<string, any>\n  \n  /** 路由类型：layout表示需要主布局包裹，standalone表示独立页面 (默认: layout) */\n  type?: 'layout' | 'standalone'\n  \n  /** 子路由 */\n  children?: RouteExtension[]\n  \n  /** 路由守卫 */\n  beforeEnter?: (to: any, from: any, next: any) => void\n}\n\n/**\n * 组件扩展\n */\nexport interface ComponentExtension {\n  /** 组件名称 */\n  name: string\n  \n  /** 组件实现 */\n  component: Component\n  \n  /** 是否全局注册 */\n  global?: boolean\n  \n  /** 组件分类 */\n  category?: string\n  \n  /** 组件描述 */\n  description?: string\n  \n  /** 组件预览图 */\n  preview?: string\n}\n\n/**\n * 菜单扩展\n */\nexport interface MenuExtension {\n  /** 菜单 ID */\n  id: string\n  \n  /** 菜单标题 */\n  title: string\n  \n  /** 菜单图标 */\n  icon?: string\n  \n  /** 菜单路径 */\n  path?: string\n  \n  /** 父菜单 ID */\n  parent?: string\n  \n  /** 排序权重 */\n  order?: number\n  \n  /** 是否显示 */\n  visible?: boolean | (() => boolean)\n  \n  /** 菜单类型：layout表示需要主布局包裹，standalone表示独立页面 (默认: layout) */\n  type?: 'layout' | 'standalone'\n  \n  /** 子菜单 */\n  children?: MenuExtension[]\n}\n\n/**\n * 工具栏扩展\n */\nexport interface ToolbarExtension {\n  /** 工具栏 ID */\n  id: string\n  \n  /** 工具栏位置 */\n  position: 'left' | 'right' | 'center'\n  \n  /** 工具栏组件 */\n  component: Component\n  \n  /** 排序权重 */\n  order?: number\n  \n  /** 是否显示 */\n  visible?: boolean | (() => boolean)\n}\n\n/**\n * 面板扩展\n */\nexport interface PanelExtension {\n  /** 面板 ID */\n  id: string\n  \n  /** 面板标题 */\n  title: string\n  \n  /** 面板组件 */\n  component: Component\n  \n  /** 面板位置 */\n  position?: 'left' | 'right' | 'bottom' | 'modal'\n  \n  /** 面板图标 */\n  icon?: string\n  \n  /** 是否默认打开 */\n  defaultOpen?: boolean\n}\n\n/**\n * 中间件扩展\n */\nexport interface MiddlewareExtension {\n  /** 中间件名称 */\n  name: string\n  \n  /** 中间件处理函数 */\n  handler: (context: any, next: () => void) => void | Promise<void>\n  \n  /** 执行顺序 */\n  order?: number\n}\n\n/**\n * 命令扩展\n */\nexport interface CommandExtension {\n  /** 命令 ID */\n  id: string\n  \n  /** 命令标题 */\n  title: string\n  \n  /** 命令分类 */\n  category?: string\n  \n  /** 命令处理函数 */\n  handler: (...args: any[]) => void | Promise<void>\n  \n  /** 命令图标 */\n  icon?: string\n  \n  /** 是否启用 */\n  enabled?: boolean | (() => boolean)\n}\n\n/**\n * 快捷键扩展\n */\nexport interface KeybindingExtension {\n  /** 快捷键组合 */\n  key: string\n  \n  /** 绑定的命令 ID */\n  command: string\n  \n  /** 快捷键作用域 */\n  when?: string\n}\n\n/**\n * 主题扩展\n */\nexport interface ThemeExtension {\n  /** 主题 ID */\n  id: string\n  \n  /** 主题名称 */\n  name: string\n  \n  /** 主题类型 */\n  type: 'light' | 'dark'\n  \n  /** 主题变量 */\n  variables: Record<string, string>\n  \n  /** 主题样式 */\n  styles?: string\n}\n\n/**\n * 主题配置接口\n * 用于定义插件的自定义主题\n */\nexport interface ThemeConfig {\n  // 颜色\n  /** 主色 */\n  primaryColor?: string\n  /** 成功色 */\n  successColor?: string\n  /** 警告色 */\n  warningColor?: string\n  /** 错误色 */\n  errorColor?: string\n  /** 信息色 */\n  infoColor?: string\n  \n  // 背景色\n  /** 背景色 */\n  backgroundColor?: string\n  /** 表面色 */\n  surfaceColor?: string\n  \n  // 文字颜色\n  /** 主要文字色 */\n  textPrimaryColor?: string\n  /** 次要文字色 */\n  textSecondaryColor?: string\n  /** 第三级文字色 */\n  textTertiaryColor?: string\n  \n  // 边框\n  /** 边框色 */\n  borderColor?: string\n  /** 圆角大小 */\n  borderRadius?: string\n  \n  // 间距\n  /** 间距配置 */\n  spacing?: {\n    /** 超小间距 (4px) */\n    xs?: string\n    /** 小间距 (8px) */\n    sm?: string\n    /** 中等间距 (16px) */\n    md?: string\n    /** 大间距 (24px) */\n    lg?: string\n    /** 超大间距 (32px) */\n    xl?: string\n  }\n  \n  // 字体\n  /** 字体大小 */\n  fontSize?: string\n  /** 字体族 */\n  fontFamily?: string\n  \n  // 阴影\n  /** 盒阴影 */\n  boxShadow?: string\n  \n  // 布局\n  /** 头部高度 */\n  headerHeight?: string\n  /** 侧边栏宽度 */\n  sidebarWidth?: string\n  /** 底部高度 */\n  footerHeight?: string\n  \n  // 自定义CSS变量\n  /** 自定义CSS变量映射 */\n  customVars?: Record<string, string>\n}\n\n/**\n * 数据源扩展\n */\nexport interface DataSourceExtension {\n  /** 数据源 ID */\n  id: string\n  \n  /** 数据源名称 */\n  name: string\n  \n  /** 数据源类型 */\n  type: string\n  \n  /** 数据获取函数 */\n  fetch: (params?: any) => Promise<any>\n  \n  /** 数据转换函数 */\n  transform?: (data: any) => any\n}\n\n// ============================================================================\n// 生命周期 (Lifecycle)\n// ============================================================================\n\n/**\n * 插件生命周期钩子\n */\nexport interface PluginLifecycle {\n  /**\n   * 安装钩子 - 插件首次加载时调用\n   * 用于初始化插件、注册扩展点等\n   */\n  install?: (context: PluginContext) => void | Promise<void>\n  \n  /**\n   * 激活钩子 - 插件被激活时调用\n   * 用于启动插件功能、订阅事件等\n   */\n  activate?: (context: PluginContext) => void | Promise<void>\n  \n  /**\n   * 停用钩子 - 插件被停用时调用\n   * 用于清理资源、取消订阅等\n   */\n  deactivate?: (context: PluginContext) => void | Promise<void>\n  \n  /**\n   * 卸载钩子 - 插件被卸载时调用\n   * 用于完全清理插件痕迹\n   */\n  uninstall?: (context: PluginContext) => void | Promise<void>\n  \n  /**\n   * 配置变更钩子\n   */\n  onConfigChange?: (newConfig: any, oldConfig: any) => void | Promise<void>\n  \n  /**\n   * 错误处理钩子\n   */\n  onError?: (error: PluginError) => void\n}\n\n// ============================================================================\n// 插件上下文 (Context)\n// ============================================================================\n\n/**\n * 插件上下文 - 提供给插件的运行时环境\n */\nexport interface PluginContext {\n  /** 插件 ID */\n  pluginId: PluginId\n  \n  /** 插件清单 */\n  manifest: PluginManifest\n  \n  /** 插件桥 - 访问主应用能力 */\n  bridge: PluginBridge\n  \n  /** 插件配置 */\n  config: any\n  \n  /** 插件存储 */\n  storage: PluginStorage\n  \n  /** 插件日志 */\n  logger: PluginLogger\n  \n  /** 订阅管理 */\n  subscriptions: PluginSubscriptions\n}\n\n// ============================================================================\n// 插件桥 (Bridge)\n// ============================================================================\n\n/**\n * 插件桥 - 主应用暴露给插件的 API\n */\nexport interface PluginBridge {\n  /** 版本信息 */\n  version: string\n  \n  /** HTTP 客户端 */\n  http: HttpClient\n  \n  /** 路由 */\n  router: RouterBridge\n  \n  /** 状态管理 */\n  store: StoreBridge\n  \n  /** UI 组件库 */\n  ui: UIBridge\n  \n  /** 事件总线 */\n  events: EventBus\n  \n  /** 工具函数 */\n  utils: UtilsBridge\n  \n  /** 权限系统 */\n  auth: AuthBridge\n  \n  /** 国际化 */\n  i18n: I18nBridge\n  \n  /** 通知系统 */\n  notification: NotificationBridge\n}\n\n/**\n * HTTP 客户端接口\n */\nexport interface HttpClient {\n  get<T = any>(url: string, config?: any): Promise<T>\n  post<T = any>(url: string, data?: any, config?: any): Promise<T>\n  put<T = any>(url: string, data?: any, config?: any): Promise<T>\n  delete<T = any>(url: string, config?: any): Promise<T>\n  patch<T = any>(url: string, data?: any, config?: any): Promise<T>\n  request<T = any>(config: any): Promise<T>\n}\n\n/**\n * 路由守卫类型\n */\nexport type NavigationGuard = (to: any, from: any, next: any) => void | Promise<void>\n\n/**\n * 路由守卫移除函数\n */\nexport type NavigationGuardRemover = () => void\n\n/**\n * 路由桥接口\n */\nexport interface RouterBridge {\n  push: Router['push']\n  replace: Router['replace']\n  go: Router['go']\n  back: Router['back']\n  forward: Router['forward']\n  currentRoute: any  // 简化类型，避免复杂的 Ref 类型问题\n  addRoute: (route: RouteRecordRaw) => void\n  removeRoute: (name: string) => void\n  hasRoute: (name: string) => boolean\n  getRoutes: () => RouteRecordRaw[]\n  \n  /** 注册全局前置守卫 */\n  beforeEach: (guard: NavigationGuard) => NavigationGuardRemover\n  \n  /** 注册全局后置钩子 */\n  afterEach: (hook: (to: any, from: any) => void) => NavigationGuardRemover\n  \n  /** 注册全局解析守卫 */\n  beforeResolve: (guard: NavigationGuard) => NavigationGuardRemover\n}\n\n/**\n * 状态管理桥接口\n */\nexport interface StoreBridge {\n  pinia: Pinia\n  getStore: <T = any>(id: string) => T | undefined\n  hasStore: (id: string) => boolean\n}\n\n/**\n * UI 组件库桥接口\n */\nexport interface UIBridge {\n  /** NaiveUI 组件 */\n  components: Record<string, Component>\n  \n  /** NaiveUI API */\n  message: any\n  dialog: any\n  notification: any\n  loadingBar: any\n  \n  /** 主题 */\n  theme: {\n    current: string\n    set: (theme: string) => void\n    get: () => string\n  }\n}\n\n/**\n * 事件总线接口\n */\nexport interface EventBus {\n  on: (event: string, handler: Function) => void\n  off: (event: string, handler: Function) => void\n  once: (event: string, handler: Function) => void\n  emit: (event: string, ...args: any[]) => void\n}\n\n/**\n * 工具函数桥接口\n */\nexport interface UtilsBridge {\n  /** 日期格式化 */\n  formatDate: (date: Date | string, format: string) => string\n  \n  /** 深拷贝 */\n  deepClone: <T>(obj: T) => T\n  \n  /** 防抖 */\n  debounce: <T extends (...args: any[]) => any>(fn: T, delay: number) => T\n  \n  /** 节流 */\n  throttle: <T extends (...args: any[]) => any>(fn: T, delay: number) => T\n  \n  /** UUID 生成 */\n  uuid: () => string\n}\n\n/**\n * 权限系统桥接口\n */\nexport interface AuthBridge {\n  /** 检查权限 */\n  hasPermission: (permission: string) => boolean\n  \n  /** 请求权限 */\n  requestPermission: (permission: string) => Promise<boolean>\n  \n  /** 获取当前用户 */\n  getCurrentUser: () => any\n  \n  /** 检查是否登录 */\n  isAuthenticated: () => boolean\n}\n\n/**\n * 国际化桥接口\n */\nexport interface I18nBridge {\n  /** 当前语言 */\n  locale: string\n  \n  /** 翻译 */\n  t: (key: string, params?: Record<string, any>) => string\n  \n  /** 设置语言 */\n  setLocale: (locale: string) => void\n  \n  /** 添加翻译 */\n  addMessages: (locale: string, messages: Record<string, string>) => void\n}\n\n/**\n * 通知系统桥接口\n */\nexport interface NotificationBridge {\n  success: (message: string, options?: any) => void\n  error: (message: string, options?: any) => void\n  warning: (message: string, options?: any) => void\n  info: (message: string, options?: any) => void\n}\n\n// ============================================================================\n// 插件存储 (Storage)\n// ============================================================================\n\n/**\n * 插件存储接口\n */\nexport interface PluginStorage {\n  /** 获取值 */\n  get: <T = any>(key: string, defaultValue?: T) => T | undefined\n  \n  /** 设置值 */\n  set: (key: string, value: any) => void\n  \n  /** 删除值 */\n  remove: (key: string) => void\n  \n  /** 清空存储 */\n  clear: () => void\n  \n  /** 获取所有键 */\n  keys: () => string[]\n  \n  /** 检查键是否存在 */\n  has: (key: string) => boolean\n}\n\n// ============================================================================\n// 插件日志 (Logger)\n// ============================================================================\n\n/**\n * 日志级别\n */\nexport enum LogLevel {\n  DEBUG = 'debug',\n  INFO = 'info',\n  WARN = 'warn',\n  ERROR = 'error'\n}\n\n/**\n * 插件日志接口\n */\nexport interface PluginLogger {\n  debug: (message: string, ...args: any[]) => void\n  info: (message: string, ...args: any[]) => void\n  warn: (message: string, ...args: any[]) => void\n  error: (message: string, ...args: any[]) => void\n  setLevel: (level: LogLevel) => void\n}\n\n// ============================================================================\n// 订阅管理 (Subscriptions)\n// ============================================================================\n\n/**\n * 订阅管理接口\n */\nexport interface PluginSubscriptions {\n  /** 添加订阅 */\n  add: (subscription: Disposable) => void\n  \n  /** 清理所有订阅 */\n  dispose: () => void\n}\n\n/**\n * 可释放接口\n */\nexport interface Disposable {\n  dispose: () => void\n}\n\n// ============================================================================\n// 权限 (Permissions)\n// ============================================================================\n\n/**\n * 插件权限枚举\n */\nexport enum PluginPermission {\n  // 网络权限\n  NETWORK_ACCESS = 'network:access',\n  \n  // 存储权限\n  STORAGE_READ = 'storage:read',\n  STORAGE_WRITE = 'storage:write',\n  \n  // 路由权限\n  ROUTER_NAVIGATE = 'router:navigate',\n  ROUTER_REGISTER = 'router:register',\n  \n  // 组件权限\n  COMPONENT_REGISTER = 'component:register',\n  COMPONENT_GLOBAL = 'component:global',\n  \n  // 数据权限\n  DATA_READ = 'data:read',\n  DATA_WRITE = 'data:write',\n  \n  // UI 权限\n  UI_MENU = 'ui:menu',\n  UI_TOOLBAR = 'ui:toolbar',\n  UI_PANEL = 'ui:panel',\n  \n  // 系统权限\n  SYSTEM_NOTIFICATION = 'system:notification',\n  SYSTEM_CLIPBOARD = 'system:clipboard'\n}\n\n// ============================================================================\n// 错误 (Errors)\n// ============================================================================\n\n/**\n * 插件错误类型\n */\nexport enum PluginErrorType {\n  LOAD_ERROR = 'LOAD_ERROR',\n  INSTALL_ERROR = 'INSTALL_ERROR',\n  ACTIVATE_ERROR = 'ACTIVATE_ERROR',\n  RUNTIME_ERROR = 'RUNTIME_ERROR',\n  PERMISSION_ERROR = 'PERMISSION_ERROR',\n  DEPENDENCY_ERROR = 'DEPENDENCY_ERROR',\n  VERSION_ERROR = 'VERSION_ERROR',\n  CONFIG_ERROR = 'CONFIG_ERROR'\n}\n\n/**\n * 插件错误\n */\nexport class PluginError extends Error {\n  constructor(\n    public type: PluginErrorType,\n    public pluginId: PluginId,\n    message: string,\n    public cause?: Error\n  ) {\n    super(message)\n    this.name = 'PluginError'\n  }\n}\n\n// ============================================================================\n// 事件 (Events)\n// ============================================================================\n\n/**\n * 插件生命周期事件\n */\nexport enum PluginLifecycleEvent {\n  BEFORE_INSTALL = 'plugin:before-install',\n  AFTER_INSTALL = 'plugin:after-install',\n  BEFORE_ACTIVATE = 'plugin:before-activate',\n  AFTER_ACTIVATE = 'plugin:after-activate',\n  BEFORE_DEACTIVATE = 'plugin:before-deactivate',\n  AFTER_DEACTIVATE = 'plugin:after-deactivate',\n  BEFORE_UNINSTALL = 'plugin:before-uninstall',\n  AFTER_UNINSTALL = 'plugin:after-uninstall',\n  ERROR = 'plugin:error',\n  STATUS_CHANGED = 'plugin:status-changed'\n}\n\n/**\n * 扩展点事件\n */\nexport enum ExtensionEvent {\n  ROUTE_REGISTERED = 'extension:route-registered',\n  ROUTE_UNREGISTERED = 'extension:route-unregistered',\n  COMPONENT_REGISTERED = 'extension:component-registered',\n  COMPONENT_UNREGISTERED = 'extension:component-unregistered',\n  MENU_REGISTERED = 'extension:menu-registered',\n  MENU_UNREGISTERED = 'extension:menu-unregistered'\n}\n\n// ============================================================================\n// 插件实例 (Plugin Instance)\n// ============================================================================\n\n/**\n * 插件实例接口\n */\nexport interface Plugin {\n  /** 插件 ID */\n  id: PluginId\n  \n  /** 插件清单 */\n  manifest: PluginManifest\n  \n  /** 插件状态 */\n  status: PluginStatus\n  \n  /** 插件上下文 */\n  context: PluginContext\n  \n  /** 激活插件 */\n  activate: () => Promise<void>\n  \n  /** 停用插件 */\n  deactivate: () => Promise<void>\n  \n  /** 卸载插件 */\n  uninstall: () => Promise<void>\n  \n  /** 获取配置 */\n  getConfig: <T = any>() => T\n  \n  /** 更新配置 */\n  updateConfig: (config: any) => Promise<void>\n}\n\n// ============================================================================\n// 插件运行时 (Plugin Runtime)\n// ============================================================================\n\n/**\n * 插件运行时接口\n */\nexport interface PluginRuntime {\n  /** 加载插件 */\n  load: (pluginId: PluginId, properties?: any) => Promise<Plugin>\n  \n  /** 卸载插件 */\n  unload: (pluginId: PluginId) => Promise<void>\n  \n  /** 重载插件 */\n  reload: (pluginId: PluginId, properties?: any) => Promise<void>\n  \n  /** 获取插件实例 */\n  get: (pluginId: PluginId) => Plugin | null\n  \n  /** 获取所有插件 */\n  getAll: () => Plugin[]\n  \n  /** 获取插件状态 */\n  getStatus: (pluginId: PluginId) => PluginStatus\n  \n  /** 监听生命周期事件 */\n  on: (event: PluginLifecycleEvent, handler: Function) => Disposable\n  \n  /** 触发事件 */\n  emit: (event: PluginLifecycleEvent, ...args: any[]) => void\n}\n\n// ============================================================================\n// 插件UI配置 (Plugin UI Config)\n// ============================================================================\n\n/**\n * 插件UI配置（从plugin-ui.yml解析）\n */\nexport interface PluginUIConfig {\n  /** 插件ID */\n  pluginId: string\n  \n  /** 插件名称 */\n  name: string\n  \n  /** 插件版本 */\n  version: string\n  \n  /** 资源配置 */\n  resources: ResourceConfig[]\n  \n  /** 菜单配置 */\n  menus: MenuConfig[]\n  \n  /** 路由配置 */\n  routes: RouteConfig[]\n  \n  /** 角色配置 */\n  roles: RoleConfig[]\n}\n\n/**\n * 资源配置\n */\nexport interface ResourceConfig {\n  /** 资源ID */\n  resourceId: string\n  \n  /** 资源名称 */\n  resourceName: string\n  \n  /** 资源类型 */\n  resourceType: 'MENU' | 'API' | 'DATA' | 'FEATURE'\n  \n  /** 资源路径 */\n  path?: string\n  \n  /** HTTP方法 */\n  method?: string\n  \n  /** 操作列表 */\n  operations?: string[]\n  \n  /** 描述 */\n  description?: string\n  \n  /** 父资源ID */\n  parent?: string\n  \n  /** 元数据 */\n  metadata?: Record<string, any>\n}\n\n/**\n * 菜单配置\n */\nexport interface MenuConfig {\n  /** 菜单ID */\n  id: string\n  \n  /** 菜单标题 */\n  title: string\n  \n  /** 菜单图标 */\n  icon?: string\n  \n  /** 路由路径 */\n  path?: string\n  \n  /** 父菜单ID */\n  parent?: string\n  \n  /** 排序 */\n  order?: number\n  \n  /** 是否可见 */\n  visible?: boolean\n  \n  /** 菜单类型 */\n  type?: 'layout' | 'standalone'\n  \n  /** 关联资源ID */\n  resourceId?: string\n  \n  /** 所需权限 */\n  requiredPermissions?: string[]\n}\n\n/**\n * 路由配置\n */\nexport interface RouteConfig {\n  /** 路由路径 */\n  path: string\n  \n  /** 路由名称 */\n  name: string\n  \n  /** 组件名称 */\n  component: string\n  \n  /** 路由类型 */\n  type?: 'layout' | 'standalone'\n  \n  /** 路由元信息 */\n  meta?: {\n    title?: string\n    icon?: string\n    requiresAuth?: boolean\n    [key: string]: any\n  }\n  \n  /** 所需权限 */\n  requiredPermissions?: string[]\n  \n  /** 子路由 */\n  children?: RouteConfig[]\n}\n\n/**\n * 角色配置\n */\nexport interface RoleConfig {\n  /** 角色编码 */\n  roleCode: string\n  \n  /** 角色名称 */\n  roleName: string\n  \n  /** 描述 */\n  description?: string\n  \n  /** 权限列表 */\n  permissions: string[]\n}\n","/**\n * 插件桥实现 - 主应用暴露给插件的 API\n * \n * 设计原则：\n * 1. 最小权限：默认只暴露必要的 API\n * 2. 安全隔离：通过代理控制访问\n * 3. 版本兼容：保持 API 稳定性\n */\n\nimport type { App } from 'vue'\nimport type { Router } from 'vue-router'\nimport type { Pinia } from 'pinia'\nimport type {\n  PluginBridge,\n  HttpClient,\n  RouterBridge,\n  StoreBridge,\n  UIBridge,\n  EventBus,\n  UtilsBridge,\n  AuthBridge,\n  I18nBridge,\n  NotificationBridge\n} from '../types/plugin-system'\nimport { PluginPermission } from '../types/plugin-system'\n\n/**\n * 创建插件桥实例\n */\nexport function createPluginBridge(options: {\n  app: App\n  router: Router\n  pinia: Pinia\n  http: any\n  permissions?: PluginPermission[]\n}): PluginBridge {\n  const { app, router, pinia, http, permissions = [] } = options\n  \n  // 权限检查函数\n  const checkPermission = (permission: PluginPermission): boolean => {\n    return permissions.includes(permission)\n  }\n  \n  return {\n    version: '1.0.0',\n    http: createHttpClient(http, checkPermission),\n    router: createRouterBridge(router, checkPermission),\n    store: createStoreBridge(pinia, checkPermission),\n    ui: createUIBridge(app, checkPermission),\n    events: createEventBus(),\n    utils: createUtilsBridge(),\n    auth: createAuthBridge(checkPermission),\n    i18n: createI18nBridge(checkPermission),\n    notification: createNotificationBridge(checkPermission)\n  }\n}\n\n/**\n * 创建 HTTP 客户端\n */\nfunction createHttpClient(\n  http: any,\n  checkPermission: (permission: PluginPermission) => boolean\n): HttpClient {\n  const requirePermission = () => {\n    if (!checkPermission(PluginPermission.NETWORK_ACCESS)) {\n      throw new Error('Plugin does not have NETWORK_ACCESS permission')\n    }\n  }\n  \n  return {\n    get: async (url, config) => {\n      requirePermission()\n      return http.get(url, config)\n    },\n    post: async (url, data, config) => {\n      requirePermission()\n      return http.post(url, data, config)\n    },\n    put: async (url, data, config) => {\n      requirePermission()\n      return http.put(url, data, config)\n    },\n    delete: async (url, config) => {\n      requirePermission()\n      return http.delete(url, config)\n    },\n    patch: async (url, data, config) => {\n      requirePermission()\n      return http.patch(url, data, config)\n    },\n    request: async (config) => {\n      requirePermission()\n      return http.request(config)\n    }\n  }\n}\n\n/**\n * 创建路由桥\n */\nfunction createRouterBridge(\n  router: Router,\n  checkPermission: (permission: PluginPermission) => boolean\n): RouterBridge {\n  return {\n    push: (...args) => {\n      if (!checkPermission(PluginPermission.ROUTER_NAVIGATE)) {\n        throw new Error('Plugin does not have ROUTER_NAVIGATE permission')\n      }\n      return router.push(...args)\n    },\n    replace: (...args) => {\n      if (!checkPermission(PluginPermission.ROUTER_NAVIGATE)) {\n        throw new Error('Plugin does not have ROUTER_NAVIGATE permission')\n      }\n      return router.replace(...args)\n    },\n    go: (delta) => {\n      if (!checkPermission(PluginPermission.ROUTER_NAVIGATE)) {\n        throw new Error('Plugin does not have ROUTER_NAVIGATE permission')\n      }\n      router.go(delta)\n    },\n    back: () => {\n      if (!checkPermission(PluginPermission.ROUTER_NAVIGATE)) {\n        throw new Error('Plugin does not have ROUTER_NAVIGATE permission')\n      }\n      router.back()\n    },\n    forward: () => {\n      if (!checkPermission(PluginPermission.ROUTER_NAVIGATE)) {\n        throw new Error('Plugin does not have ROUTER_NAVIGATE permission')\n      }\n      router.forward()\n    },\n    currentRoute: router.currentRoute,\n    addRoute: (route) => {\n      if (!checkPermission(PluginPermission.ROUTER_REGISTER)) {\n        throw new Error('Plugin does not have ROUTER_REGISTER permission')\n      }\n      // 根据路由的type决定是否注册到MainLayout下\n      // type为'layout'或未指定时，注册到MainLayout下；type为'standalone'时，注册到根路由\n      const routeType = (route as any).type || 'layout'\n      if (routeType === 'layout') {\n        router.addRoute('MainLayout', route)\n      } else {\n        router.addRoute(route)\n      }\n    },\n    removeRoute: (name) => {\n      if (!checkPermission(PluginPermission.ROUTER_REGISTER)) {\n        throw new Error('Plugin does not have ROUTER_REGISTER permission')\n      }\n      router.removeRoute(name)\n    },\n    hasRoute: (name) => router.hasRoute(name),\n    getRoutes: () => router.getRoutes(),\n    \n    // 路由守卫注册\n    beforeEach: (guard) => {\n      if (!checkPermission(PluginPermission.ROUTER_REGISTER)) {\n        throw new Error('Plugin does not have ROUTER_REGISTER permission')\n      }\n      return router.beforeEach(guard)\n    },\n    afterEach: (hook) => {\n      if (!checkPermission(PluginPermission.ROUTER_REGISTER)) {\n        throw new Error('Plugin does not have ROUTER_REGISTER permission')\n      }\n      return router.afterEach(hook)\n    },\n    beforeResolve: (guard) => {\n      if (!checkPermission(PluginPermission.ROUTER_REGISTER)) {\n        throw new Error('Plugin does not have ROUTER_REGISTER permission')\n      }\n      return router.beforeResolve(guard)\n    }\n  }\n}\n\n/**\n * 创建状态管理桥\n */\nfunction createStoreBridge(\n  pinia: Pinia,\n  checkPermission: (permission: PluginPermission) => boolean\n): StoreBridge {\n  return {\n    pinia,\n    getStore: (id) => {\n      if (!checkPermission(PluginPermission.DATA_READ)) {\n        throw new Error('Plugin does not have DATA_READ permission')\n      }\n      // 使用 Pinia 的内部 API（虽然不推荐，但这是访问 store 的唯一方式）\n      const stores = (pinia as any)._s\n      return stores ? stores.get(id) : undefined\n    },\n    hasStore: (id) => {\n      const stores = (pinia as any)._s\n      return stores ? stores.has(id) : false\n    }\n  }\n}\n\n/**\n * 创建 UI 桥\n */\nfunction createUIBridge(\n  _app: App,\n  _checkPermission: (permission: PluginPermission) => boolean\n): UIBridge {\n  // 动态导入 NaiveUI\n  let naiveUI: any = null\n  if (typeof window !== 'undefined') {\n    naiveUI = (window as any).NaiveUI\n  }\n  \n  return {\n    components: naiveUI || {},\n    message: naiveUI?.useMessage,\n    dialog: naiveUI?.useDialog,\n    notification: naiveUI?.useNotification,\n    loadingBar: naiveUI?.useLoadingBar,\n    theme: {\n      current: 'light',\n      set: (theme) => {\n        // TODO: 实现主题切换\n        console.log('Set theme:', theme)\n      },\n      get: () => 'light'\n    }\n  }\n}\n\n/**\n * 创建事件总线\n */\nfunction createEventBus(): EventBus {\n  const events = new Map<string, Set<Function>>()\n  \n  return {\n    on: (event, handler) => {\n      if (!events.has(event)) {\n        events.set(event, new Set())\n      }\n      events.get(event)!.add(handler)\n    },\n    off: (event, handler) => {\n      const handlers = events.get(event)\n      if (handlers) {\n        handlers.delete(handler)\n      }\n    },\n    once: (event, handler) => {\n      const wrappedHandler = (...args: any[]) => {\n        handler(...args)\n        events.get(event)?.delete(wrappedHandler)\n      }\n      if (!events.has(event)) {\n        events.set(event, new Set())\n      }\n      events.get(event)!.add(wrappedHandler)\n    },\n    emit: (event, ...args) => {\n      const handlers = events.get(event)\n      if (handlers) {\n        handlers.forEach(handler => {\n          try {\n            handler(...args)\n          } catch (error) {\n            console.error(`Error in event handler for \"${event}\":`, error)\n          }\n        })\n      }\n    }\n  }\n}\n\n/**\n * 创建工具函数桥\n */\nfunction createUtilsBridge(): UtilsBridge {\n  return {\n    formatDate: (date, _format) => {\n      // 简单实现，实际应该使用 date-fns 等库\n      const d = typeof date === 'string' ? new Date(date) : date\n      return d.toISOString()\n    },\n    deepClone: (obj) => {\n      return JSON.parse(JSON.stringify(obj))\n    },\n    debounce: (fn, delay) => {\n      let timeoutId: any\n      return ((...args: any[]) => {\n        clearTimeout(timeoutId)\n        timeoutId = setTimeout(() => fn(...args), delay)\n      }) as any\n    },\n    throttle: (fn, delay) => {\n      let lastCall = 0\n      return ((...args: any[]) => {\n        const now = Date.now()\n        if (now - lastCall >= delay) {\n          lastCall = now\n          fn(...args)\n        }\n      }) as any\n    },\n    uuid: () => {\n      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n        const r = Math.random() * 16 | 0\n        const v = c === 'x' ? r : (r & 0x3 | 0x8)\n        return v.toString(16)\n      })\n    }\n  }\n}\n\n/**\n * 创建权限桥\n */\nfunction createAuthBridge(\n  _checkPermission: (permission: PluginPermission) => boolean\n): AuthBridge {\n  return {\n    hasPermission: (_permission) => {\n      // TODO: 实现实际的权限检查\n      return true\n    },\n    requestPermission: async (_permission) => {\n      // TODO: 实现权限请求\n      return true\n    },\n    getCurrentUser: () => {\n      // TODO: 从实际的用户 store 获取\n      return null\n    },\n    isAuthenticated: () => {\n      // TODO: 检查实际的认证状态\n      return true\n    }\n  }\n}\n\n/**\n * 创建国际化桥\n */\nfunction createI18nBridge(\n  _checkPermission: (permission: PluginPermission) => boolean\n): I18nBridge {\n  return {\n    locale: 'zh-CN',\n    t: (key, _params) => {\n      // TODO: 实现实际的翻译\n      return key\n    },\n    setLocale: (locale) => {\n      // TODO: 实现语言切换\n      console.log('Set locale:', locale)\n    },\n    addMessages: (locale, messages) => {\n      // TODO: 实现添加翻译\n      console.log('Add messages:', locale, messages)\n    }\n  }\n}\n\n/**\n * 创建通知桥\n */\nfunction createNotificationBridge(\n  checkPermission: (permission: PluginPermission) => boolean\n): NotificationBridge {\n  const requirePermission = () => {\n    if (!checkPermission(PluginPermission.SYSTEM_NOTIFICATION)) {\n      throw new Error('Plugin does not have SYSTEM_NOTIFICATION permission')\n    }\n  }\n  \n  // 获取全局 message API\n  const getMessageApi = () => {\n    const w = window as any\n    if (w.$message) {\n      return w.$message\n    }\n    console.warn('[PluginBridge] window.$message not available, falling back to console')\n    return null\n  }\n  \n  return {\n    success: (message, options) => {\n      requirePermission()\n      const messageApi = getMessageApi()\n      if (messageApi) {\n        messageApi.success(message, options)\n      } else {\n        console.log('[Notification] Success:', message, options)\n      }\n    },\n    error: (message, options) => {\n      requirePermission()\n      const messageApi = getMessageApi()\n      if (messageApi) {\n        messageApi.error(message, options)\n      } else {\n        console.error('[Notification] Error:', message, options)\n      }\n    },\n    warning: (message, options) => {\n      requirePermission()\n      const messageApi = getMessageApi()\n      if (messageApi) {\n        messageApi.warning(message, options)\n      } else {\n        console.warn('[Notification] Warning:', message, options)\n      }\n    },\n    info: (message, options) => {\n      requirePermission()\n      const messageApi = getMessageApi()\n      if (messageApi) {\n        messageApi.info(message, options)\n      } else {\n        console.info('[Notification] Info:', message, options)\n      }\n    }\n  }\n}\n\n/**\n * 在全局对象上暴露插件桥\n */\nexport function exposePluginBridge(bridge: PluginBridge): void {\n  if (typeof window !== 'undefined') {\n    (window as any).GressBridge = bridge\n  }\n}\n","/**\n * 插件上下文实现\n * \n * 提供给插件的运行时环境，包括：\n * 1. 插件桥（访问主应用能力）\n * 2. 插件存储\n * 3. 插件日志\n * 4. 订阅管理\n */\n\nimport type {\n  PluginId,\n  PluginManifest,\n  PluginContext,\n  PluginBridge,\n  PluginStorage,\n  PluginLogger,\n  PluginSubscriptions,\n  Disposable,\n  LogLevel\n} from '../types/plugin-system'\nimport { LogLevel as Level } from '../types/plugin-system'\n\n/**\n * 创建插件上下文\n */\nexport function createPluginContext(\n  pluginId: PluginId,\n  manifest: PluginManifest,\n  bridge: PluginBridge\n): PluginContext {\n  return {\n    pluginId,\n    manifest,\n    bridge,\n    config: manifest.config?.default || {},\n    storage: createPluginStorage(pluginId),\n    logger: createPluginLogger(pluginId),\n    subscriptions: createPluginSubscriptions()\n  }\n}\n\n/**\n * 创建插件存储\n */\nfunction createPluginStorage(pluginId: PluginId): PluginStorage {\n  const storageKey = `gress-plugin-${pluginId}`\n  \n  // 从 localStorage 加载数据\n  const loadData = (): Record<string, any> => {\n    try {\n      const data = localStorage.getItem(storageKey)\n      return data ? JSON.parse(data) : {}\n    } catch (error) {\n      console.error(`[Plugin Storage] Failed to load data for ${pluginId}:`, error)\n      return {}\n    }\n  }\n  \n  // 保存数据到 localStorage\n  const saveData = (data: Record<string, any>): void => {\n    try {\n      localStorage.setItem(storageKey, JSON.stringify(data))\n    } catch (error) {\n      console.error(`[Plugin Storage] Failed to save data for ${pluginId}:`, error)\n    }\n  }\n  \n  let data = loadData()\n  \n  return {\n    get: (key, defaultValue) => {\n      return data[key] !== undefined ? data[key] : defaultValue\n    },\n    \n    set: (key, value) => {\n      data[key] = value\n      saveData(data)\n    },\n    \n    remove: (key) => {\n      delete data[key]\n      saveData(data)\n    },\n    \n    clear: () => {\n      data = {}\n      localStorage.removeItem(storageKey)\n    },\n    \n    keys: () => {\n      return Object.keys(data)\n    },\n    \n    has: (key) => {\n      return key in data\n    }\n  }\n}\n\n/**\n * 创建插件日志\n */\nfunction createPluginLogger(pluginId: PluginId): PluginLogger {\n  let currentLevel: LogLevel = Level.INFO\n  \n  const levels: Record<LogLevel, number> = {\n    [Level.DEBUG]: 0,\n    [Level.INFO]: 1,\n    [Level.WARN]: 2,\n    [Level.ERROR]: 3\n  }\n  \n  const shouldLog = (level: LogLevel): boolean => {\n    return levels[level] >= levels[currentLevel]\n  }\n  \n  const formatMessage = (level: LogLevel, message: string): string => {\n    const timestamp = new Date().toISOString()\n    return `[${timestamp}] [${pluginId}] [${level.toUpperCase()}] ${message}`\n  }\n  \n  return {\n    debug: (message, ...args) => {\n      if (shouldLog(Level.DEBUG)) {\n        console.debug(formatMessage(Level.DEBUG, message), ...args)\n      }\n    },\n    \n    info: (message, ...args) => {\n      if (shouldLog(Level.INFO)) {\n        console.info(formatMessage(Level.INFO, message), ...args)\n      }\n    },\n    \n    warn: (message, ...args) => {\n      if (shouldLog(Level.WARN)) {\n        console.warn(formatMessage(Level.WARN, message), ...args)\n      }\n    },\n    \n    error: (message, ...args) => {\n      if (shouldLog(Level.ERROR)) {\n        console.error(formatMessage(Level.ERROR, message), ...args)\n      }\n    },\n    \n    setLevel: (level) => {\n      currentLevel = level\n    }\n  }\n}\n\n/**\n * 创建订阅管理\n */\nfunction createPluginSubscriptions(): PluginSubscriptions {\n  const subscriptions: Disposable[] = []\n  \n  return {\n    add: (subscription) => {\n      subscriptions.push(subscription)\n    },\n    \n    dispose: () => {\n      for (const subscription of subscriptions) {\n        try {\n          subscription.dispose()\n        } catch (error) {\n          console.error('[Plugin Subscriptions] Error disposing subscription:', error)\n        }\n      }\n      subscriptions.length = 0\n    }\n  }\n}\n","/**\n * 事件发射器实现\n * \n * 提供简单的发布-订阅模式\n */\n\nexport interface EventEmitter {\n  on(event: string, handler: Function): void\n  off(event: string, handler: Function): void\n  once(event: string, handler: Function): void\n  emit(event: string, ...args: any[]): void\n  clear(): void\n}\n\n/**\n * 创建事件发射器\n */\nexport function createEventEmitter(): EventEmitter {\n  const events = new Map<string, Set<Function>>()\n  \n  return {\n    on(event, handler) {\n      if (!events.has(event)) {\n        events.set(event, new Set())\n      }\n      events.get(event)!.add(handler)\n    },\n    \n    off(event, handler) {\n      const handlers = events.get(event)\n      if (handlers) {\n        handlers.delete(handler)\n        if (handlers.size === 0) {\n          events.delete(event)\n        }\n      }\n    },\n    \n    once(event, handler) {\n      const wrappedHandler = (...args: any[]) => {\n        handler(...args)\n        this.off(event, wrappedHandler)\n      }\n      this.on(event, wrappedHandler)\n    },\n    \n    emit(event, ...args) {\n      const handlers = events.get(event)\n      if (handlers) {\n        // 复制一份，避免在遍历时修改\n        const handlersCopy = Array.from(handlers)\n        for (const handler of handlersCopy) {\n          try {\n            handler(...args)\n          } catch (error) {\n            console.error(`[EventEmitter] Error in handler for \"${event}\":`, error)\n          }\n        }\n      }\n    },\n    \n    clear() {\n      events.clear()\n    }\n  }\n}\n","/**\n * 图标辅助函数\n * \n * 从宿主应用的 window.Ionicons5 获取图标组件\n */\n\nimport { computed, type Component } from 'vue'\n\n/**\n * 获取单个图标\n * @param iconName 图标名称，如 'HomeOutline', 'AddOutline'\n * @returns 图标组件\n */\nexport function useIcon(iconName: string): Component {\n  const Ionicons5 = (window as any).Ionicons5\n  if (!Ionicons5) {\n    console.warn('[useIcon] Ionicons5 not found on window')\n    return null as any\n  }\n  \n  const icon = Ionicons5[iconName]\n  if (!icon) {\n    console.warn(`[useIcon] Icon not found: ${iconName}`)\n    return null as any\n  }\n  \n  return icon\n}\n\n/**\n * 获取响应式图标\n * @param iconName 图标名称（可以是 ref）\n * @returns 响应式图标组件\n */\nexport function useIconComputed(iconName: string | (() => string)) {\n  return computed(() => {\n    const name = typeof iconName === 'function' ? iconName() : iconName\n    return useIcon(name)\n  })\n}\n\n/**\n * 常用图标快捷方式\n */\nexport const Icons = {\n  // 基础操作\n  Add: () => useIcon('AddOutline'),\n  Remove: () => useIcon('RemoveOutline'),\n  Close: () => useIcon('CloseOutline'),\n  Save: () => useIcon('SaveOutline'),\n  Edit: () => useIcon('CreateOutline'),\n  Delete: () => useIcon('TrashOutline'),\n  Refresh: () => useIcon('RefreshOutline'),\n  Search: () => useIcon('SearchOutline'),\n  \n  // 导航\n  Home: () => useIcon('HomeOutline'),\n  Back: () => useIcon('ArrowBackOutline'),\n  Forward: () => useIcon('ArrowForwardOutline'),\n  Menu: () => useIcon('MenuOutline'),\n  \n  // 状态\n  Success: () => useIcon('CheckmarkCircleOutline'),\n  Error: () => useIcon('CloseCircleOutline'),\n  Warning: () => useIcon('WarningOutline'),\n  Info: () => useIcon('InformationCircleOutline'),\n  \n  // 文件\n  Document: () => useIcon('DocumentOutline'),\n  Folder: () => useIcon('FolderOutline'),\n  Download: () => useIcon('DownloadOutline'),\n  Upload: () => useIcon('UploadOutline'),\n  \n  // 用户\n  Person: () => useIcon('PersonOutline'),\n  People: () => useIcon('PeopleOutline'),\n  Settings: () => useIcon('SettingsOutline'),\n  \n  // 其他\n  Eye: () => useIcon('EyeOutline'),\n  EyeOff: () => useIcon('EyeOffOutline'),\n  Filter: () => useIcon('FunnelOutline'),\n  Calendar: () => useIcon('CalendarOutline'),\n  Time: () => useIcon('TimeOutline'),\n  Star: () => useIcon('StarOutline'),\n  Heart: () => useIcon('HeartOutline'),\n  \n  // 应用相关\n  Apps: () => useIcon('AppsOutline'),\n  Grid: () => useIcon('GridOutline'),\n  List: () => useIcon('ListOutline'),\n  Code: () => useIcon('CodeOutline'),\n  Terminal: () => useIcon('TerminalOutline'),\n  \n  // 通信\n  Mail: () => useIcon('MailOutline'),\n  Chatbubble: () => useIcon('ChatbubbleOutline'),\n  Chatbubbles: () => useIcon('ChatbubblesOutline'),\n  Notifications: () => useIcon('NotificationsOutline'),\n  \n  // 媒体\n  Play: () => useIcon('PlayOutline'),\n  Pause: () => useIcon('PauseOutline'),\n  Stop: () => useIcon('StopOutline'),\n  \n  // 箭头\n  ChevronUp: () => useIcon('ChevronUpOutline'),\n  ChevronDown: () => useIcon('ChevronDownOutline'),\n  ChevronBack: () => useIcon('ChevronBackOutline'),\n  ChevronForward: () => useIcon('ChevronForwardOutline'),\n  \n  // 安全\n  Lock: () => useIcon('LockClosedOutline'),\n  Unlock: () => useIcon('LockOpenOutline'),\n  Shield: () => useIcon('ShieldOutline'),\n  Key: () => useIcon('KeyOutline')\n}\n\n/**\n * 批量获取图标\n * @param iconNames 图标名称数组\n * @returns 图标组件对象\n */\nexport function useIcons(iconNames: string[]): Record<string, Component> {\n  const icons: Record<string, Component> = {}\n  iconNames.forEach(name => {\n    icons[name] = useIcon(name)\n  })\n  return icons\n}\n\n/**\n * 检查图标是否可用\n * @param iconName 图标名称\n * @returns 是否可用\n */\nexport function hasIcon(iconName: string): boolean {\n  const Ionicons5 = (window as any).Ionicons5\n  return !!(Ionicons5 && Ionicons5[iconName])\n}\n\n/**\n * 获取所有可用图标名称\n * @returns 图标名称数组\n */\nexport function getAllIconNames(): string[] {\n  const Ionicons5 = (window as any).Ionicons5\n  if (!Ionicons5) {\n    return []\n  }\n  return Object.keys(Ionicons5)\n}\n\n/**\n * 搜索图标\n * @param keyword 关键词\n * @returns 匹配的图标名称数组\n */\nexport function searchIcons(keyword: string): string[] {\n  const allIcons = getAllIconNames()\n  const lowerKeyword = keyword.toLowerCase()\n  return allIcons.filter(name => name.toLowerCase().includes(lowerKeyword))\n}\n","/**\n * 宿主机桥接 Composable\n * \n * 提供对宿主机能力的访问，包括：\n * - 路由导航 (router)\n * - 当前路由 (route)\n * - UI 组件 (message, dialog, notification, loadingBar)\n * - HTTP 请求 (http)\n * - 事件总线 (events)\n * - 工具函数 (utils)\n * \n * 使用方式：\n * ```ts\n * import { useHostBridge } from '@/composables/useHostBridge'\n * \n * const { router, route, message, http } = useHostBridge()\n * \n * // 路由导航\n * router.push('/some-path')\n * \n * // 显示消息\n * message.success('操作成功')\n * \n * // HTTP 请求\n * const data = await http.get('/api/data')\n * ```\n */\n\nimport { type ComputedRef } from 'vue'\nimport type { RouteLocationNormalizedLoaded } from 'vue-router'\n\ninterface HostBridge {\n  version: string\n  http: any\n  router: any\n  store: any\n  ui: any\n  events: any\n  utils: any\n  auth: any\n  i18n: any\n  notification: any\n}\n\ninterface MessageApi {\n  success: (content: string, options?: any) => void\n  error: (content: string, options?: any) => void\n  warning: (content: string, options?: any) => void\n  info: (content: string, options?: any) => void\n  loading: (content: string, options?: any) => void\n}\n\ninterface DialogApi {\n  success: (options: any) => void\n  error: (options: any) => void\n  warning: (options: any) => void\n  info: (options: any) => void\n  create: (options: any) => any\n}\n\ninterface NotificationApi {\n  success: (options: any) => void\n  error: (options: any) => void\n  warning: (options: any) => void\n  info: (options: any) => void\n  create: (options: any) => any\n}\n\ninterface LoadingBarApi {\n  start: () => void\n  finish: () => void\n  error: () => void\n}\n\ninterface RouterApi {\n  push: (to: any) => Promise<void>\n  replace: (to: any) => Promise<void>\n  go: (delta: number) => void\n  back: () => void\n  forward: () => void\n  currentRoute: ComputedRef<RouteLocationNormalizedLoaded>\n}\n\ninterface HttpApi {\n  get: (url: string, config?: any) => Promise<any>\n  post: (url: string, data?: any, config?: any) => Promise<any>\n  put: (url: string, data?: any, config?: any) => Promise<any>\n  delete: (url: string, config?: any) => Promise<any>\n  patch: (url: string, data?: any, config?: any) => Promise<any>\n  request: (config: any) => Promise<any>\n}\n\ninterface EventsApi {\n  on: (event: string, handler: Function) => void\n  off: (event: string, handler: Function) => void\n  once: (event: string, handler: Function) => void\n  emit: (event: string, ...args: any[]) => void\n}\n\ninterface UtilsApi {\n  formatDate: (date: Date | string, format?: string) => string\n  deepClone: <T>(obj: T) => T\n  debounce: <T extends (...args: any[]) => any>(fn: T, delay: number) => T\n  throttle: <T extends (...args: any[]) => any>(fn: T, delay: number) => T\n  uuid: () => string\n}\n\nexport interface UseHostBridgeReturn {\n  bridge: HostBridge\n  router: RouterApi\n  route: ComputedRef<RouteLocationNormalizedLoaded>\n  message: MessageApi\n  dialog: DialogApi\n  notification: NotificationApi\n  loadingBar: LoadingBarApi\n  http: HttpApi\n  events: EventsApi\n  utils: UtilsApi\n}\n\n/**\n * 获取宿主机桥接对象\n */\nfunction getHostBridge(): HostBridge {\n  if (typeof window === 'undefined') {\n    throw new Error('[useHostBridge] Window is not defined')\n  }\n\n  const bridge = (window as any).GressBridge\n  if (!bridge) {\n    throw new Error('[useHostBridge] GressBridge is not available. Make sure the plugin is loaded in the host application.')\n  }\n\n  return bridge\n}\n\n/**\n * 创建 Message API 包装器\n */\nfunction createMessageApi(bridge: HostBridge): MessageApi {\n  // 尝试从 NaiveUI 获取 message API\n  const naiveUI = (window as any).NaiveUI\n  \n  if (naiveUI && naiveUI.useMessage) {\n    // 在 setup 外部使用 NaiveUI 需要特殊处理\n    // 我们使用 notification bridge 作为后备\n    return {\n      success: (content: string, options?: any) => {\n        bridge.notification.success(content, options)\n      },\n      error: (content: string, options?: any) => {\n        bridge.notification.error(content, options)\n      },\n      warning: (content: string, options?: any) => {\n        bridge.notification.warning(content, options)\n      },\n      info: (content: string, options?: any) => {\n        bridge.notification.info(content, options)\n      },\n      loading: (content: string, options?: any) => {\n        bridge.notification.info(content, { ...options, duration: 0 })\n      }\n    }\n  }\n\n  // 后备方案：使用 notification bridge\n  return {\n    success: (content: string, options?: any) => {\n      bridge.notification.success(content, options)\n    },\n    error: (content: string, options?: any) => {\n      bridge.notification.error(content, options)\n    },\n    warning: (content: string, options?: any) => {\n      bridge.notification.warning(content, options)\n    },\n    info: (content: string, options?: any) => {\n      bridge.notification.info(content, options)\n    },\n    loading: (content: string, options?: any) => {\n      bridge.notification.info(content, { ...options, duration: 0 })\n    }\n  }\n}\n\n/**\n * 创建 Dialog API 包装器\n */\nfunction createDialogApi(_bridge: HostBridge): DialogApi {\n  const naiveUI = (window as any).NaiveUI\n  \n  if (naiveUI && naiveUI.useDialog) {\n    // 后备方案：使用 window.confirm 和 window.alert\n    return {\n      success: (options: any) => {\n        window.alert(options.content || options.title || 'Success')\n      },\n      error: (options: any) => {\n        window.alert(options.content || options.title || 'Error')\n      },\n      warning: (options: any) => {\n        if (window.confirm(options.content || options.title || 'Warning')) {\n          const callback = options.onPositiveClick || options.positiveClick\n          callback?.()\n        } else {\n          const callback = options.onNegativeClick || options.negativeClick\n          callback?.()\n        }\n      },\n      info: (options: any) => {\n        window.alert(options.content || options.title || 'Info')\n      },\n      create: (options: any) => {\n        const result = window.confirm(options.content || options.title || '')\n        if (result) {\n          const callback = options.onPositiveClick || options.positiveClick\n          callback?.()\n        } else {\n          const callback = options.onNegativeClick || options.negativeClick\n          callback?.()\n        }\n        return {\n          destroy: () => {}\n        }\n      }\n    }\n  }\n\n  return {\n    success: (options: any) => {\n      window.alert(options.content || options.title || 'Success')\n    },\n    error: (options: any) => {\n      window.alert(options.content || options.title || 'Error')\n    },\n    warning: (options: any) => {\n      if (window.confirm(options.content || options.title || 'Warning')) {\n        const callback = options.onPositiveClick || options.positiveClick\n        callback?.()\n      } else {\n        const callback = options.onNegativeClick || options.negativeClick\n        callback?.()\n      }\n    },\n    info: (options: any) => {\n      window.alert(options.content || options.title || 'Info')\n    },\n    create: (options: any) => {\n      const result = window.confirm(options.content || options.title || '')\n      if (result) {\n        const callback = options.onPositiveClick || options.positiveClick\n        callback?.()\n      } else {\n        const callback = options.onNegativeClick || options.negativeClick\n        callback?.()\n      }\n      return {\n        destroy: () => {}\n      }\n    }\n  }\n}\n\n/**\n * 创建 Notification API 包装器\n */\nfunction createNotificationApi(bridge: HostBridge): NotificationApi {\n  return {\n    success: (options: any) => {\n      bridge.notification.success(options.content || options.title, options)\n    },\n    error: (options: any) => {\n      bridge.notification.error(options.content || options.title, options)\n    },\n    warning: (options: any) => {\n      bridge.notification.warning(options.content || options.title, options)\n    },\n    info: (options: any) => {\n      bridge.notification.info(options.content || options.title, options)\n    },\n    create: (options: any) => {\n      const type = options.type || 'info'\n      bridge.notification[type](options.content || options.title, options)\n      return {\n        destroy: () => {}\n      }\n    }\n  }\n}\n\n/**\n * 创建 LoadingBar API 包装器\n */\nfunction createLoadingBarApi(_bridge: HostBridge): LoadingBarApi {\n  // 简单的 loading bar 实现\n  let loadingElement: HTMLElement | null = null\n\n  return {\n    start: () => {\n      if (!loadingElement) {\n        loadingElement = document.createElement('div')\n        loadingElement.style.cssText = `\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          height: 2px;\n          background: #18a058;\n          z-index: 9999;\n          transition: width 0.3s;\n        `\n        document.body.appendChild(loadingElement)\n      }\n      loadingElement.style.width = '70%'\n    },\n    finish: () => {\n      if (loadingElement) {\n        loadingElement.style.width = '100%'\n        setTimeout(() => {\n          loadingElement?.remove()\n          loadingElement = null\n        }, 300)\n      }\n    },\n    error: () => {\n      if (loadingElement) {\n        loadingElement.style.background = '#d03050'\n        loadingElement.style.width = '100%'\n        setTimeout(() => {\n          loadingElement?.remove()\n          loadingElement = null\n        }, 300)\n      }\n    }\n  }\n}\n\n/**\n * 使用宿主机桥接\n */\nexport function useHostBridge(): UseHostBridgeReturn {\n  const bridge = getHostBridge()\n\n  return {\n    bridge,\n    router: bridge.router,\n    route: bridge.router.currentRoute,\n    message: createMessageApi(bridge),\n    dialog: createDialogApi(bridge),\n    notification: createNotificationApi(bridge),\n    loadingBar: createLoadingBarApi(bridge),\n    http: bridge.http,\n    events: bridge.events,\n    utils: bridge.utils\n  }\n}\n\n/**\n * 便捷导出\n */\nexport const useRouter = () => useHostBridge().router\nexport const useRoute = () => useHostBridge().route\nexport const useMessage = () => useHostBridge().message\nexport const useDialog = () => useHostBridge().dialog\nexport const useNotification = () => useHostBridge().notification\nexport const useLoadingBar = () => useHostBridge().loadingBar\nexport const useHttp = () => useHostBridge().http\nexport const useEvents = () => useHostBridge().events\nexport const useUtils = () => useHostBridge().utils\n\n/**\n * 导出图标相关函数\n */\nexport { useIcon, useIconComputed, Icons, useIcons, hasIcon, getAllIconNames, searchIcons } from './useIcons'\n"],"names":["PluginStatus","LoadStrategy","LogLevel","PluginPermission","PluginErrorType","PluginLifecycleEvent","ExtensionEvent","data","Level"],"mappings":"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"}